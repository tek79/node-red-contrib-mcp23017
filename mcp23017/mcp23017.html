<script type="text/x-red" data-template-name="mcp23017">
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> Topic</label>
        <input type="text" id="node-input-topic" placeholder="Topic">
    </div>

    <br/>
    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-tag"></i> Address</label>
        <input type="text" id="node-input-address" placeholder="Address">
    </div>

    <br/>
    <div class="form-row">
        <label for="node-input-device"><i class="fa fa-tag"></i> Device</label>
        <input type="text" id="node-input-device" placeholder="Device">
    </div>

    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="mcp23017">
   <p><b>MSP23017</b> Output node, control the pins via topic and playload.</p>
   <p><b>Address:</b>  0x20 (default) or similar.</p>
   <p><b>Device:</b> /dev/i2c-1 (default), but may need to be changed to /dev/i2c-0 depending on your Raspberry PI.</p>
   <p><b>Topic:</b> set to the root of the status topic, e.g. 'devices/status', a status message will be generated per pin 0..15.</p>
</script>

<script type="text/javascript">
  RED.nodes.registerType('mcp23017', {
    category: "Raspberry Pi",
    color: "#C6DBEF",
    defaults: {
        name: { value: ""},
        topic: { value: ""},
        address: { value: "0x20", required:true },
        device: { value: "/dev/i2c-1", required:true }
    },
    inputs: 1,
    outputs: 1,
    icon: "rpi.png",
    label: function() {
      return this.name || this.topic || "mcp23017";
    },
    labelStyle: function() {
      return this.name? "node_label_italic" : "";
    }
  });
</script>
